;(self.SPZ=self.SPZ||[]).push({n:"spz-tabs",ev:"0.1",l:!0,v:"1.0",m:0,f:function(t,e){!function(){var e;function n(){return e||(e=Promise.resolve(void 0))}function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function a(t,e){return(a=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function r(t,e){return!e||"object"!==i(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function o(t){return(o=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var s="spz-tabs",u="click",l="hover",c=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&a(t,e)}(h,t);var e,i,c,f=(i=h,c=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=o(i);if(c){var n=o(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return r(this,t)});function h(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,h),(e=f.call(this,t)).tabs_=[],e.panels_=[],e.itemCount_=0,e.currentTab=null,e.interact_=u,e}return(e=[{key:"buildCallback",value:function(){var t=this;this.element.hasAttribute("hover-interact")&&(this.interact_=l),this.keepBehavior_=this.element.hasAttribute("keep-behavior"),this.registerTabs_(),this.registerAction("tabChange",(function(e){var n;return t.handleTabChange_(null===(n=e.args)||void 0===n?void 0:n.index)}))}},{key:"mountCallback",value:function(){if(!this.tabs_.length||this.currentTab)return n();if(this.keepBehavior_){var t=SPZUtils.Urls.parseQueryString(this.win.location.search);if(null!=t&&t.index)return this.handleTabChange_(null==t?void 0:t.index),n()}var e=this.element.querySelector("[role=tabs] > [role=tab][active]"),i=(e=e||this.tabs_[0]).getAttribute("data-panel"),a=this.element.querySelector("[role=tabpanel][data-id=".concat(i,"]"));return this.toggleOn_(e,a),n()}},{key:"registerTabs_",value:function(){var t=this,e=this.element.querySelector("[role=tabs]"),n="SELECT"===e.tagName;this.tabs_=SPZCore.Types.toArray(this.element.querySelectorAll("[role=tabs] > [role=tab]")),this.tabs_.filter((function(t){return!t.classList.contains("i-spzhtml-tab")})).forEach((function(e){var n=e.getAttribute("data-panel"),i=t.element.querySelector("[role=tabpanel][data-id=".concat(n,"]"));t.assert(i,"".concat(s," requires each tab item to include a element.")),t.panels_.push(i),t.registerTabItem_(e,i)})),n&&SPZUtils.Event.listen(e,"change",(function(e){var n=t.element.querySelector("[value=".concat(e.target.value,"]")),i=n.getAttribute("data-panel"),a=t.element.querySelector(".i-spzhtml-tab-panel[data-id=".concat(i,"]"));t.toggleOn_(n,t.assertElement(a))}))}},{key:"registerTabItem_",value:function(t,e){var n=this;t.classList.add("i-spzhtml-tab"),e.classList.add("i-spzhtml-tab-panel"),t.hasAttribute("tabindex")||t.setAttribute("tabindex",this.itemCount_),this.itemCount_++,"SELECT"===this.element.querySelector("[role=tabs]").tagName||(this.interact_===u?t.addEventListener("click",(function(t){return n.handleTabClick_(t)})):this.interact_===l&&t.addEventListener("mouseover",(function(t){return n.handleTabClick_(t)})))}},{key:"handleTabClick_",value:function(t){t.preventDefault();var e=this.assertElement(t.currentTarget),n=e.getAttribute("data-panel"),i=this.element.querySelector(".i-spzhtml-tab-panel[data-id=".concat(n,"]"));this.replaceUrl_(e.getAttribute("tabindex")),this.toggleOn_(e,this.assertElement(i))}},{key:"toggleOn_",value:function(t,e){var n=this;this.currentTab!=t&&(this.currentTab=t,this.mutateElement((function(){t.setAttribute("active",""),n.tabs_.forEach((function(e){t!=e&&e.hasAttribute("active")&&e.removeAttribute("active")})),e.setAttribute("active",""),n.panels_.forEach((function(t){e!=t&&t.hasAttribute("active")&&t.removeAttribute("active")}))})))}},{key:"handleTabChange_",value:function(t){t=parseInt(t,10);var e=this.tabs_[t],n=e.getAttribute("data-panel"),i=this.element.querySelector(".i-spzhtml-tab-panel[data-id=".concat(n,"]"));this.replaceUrl_(t),this.toggleOn_(e,i)}},{key:"replaceUrl_",value:function(t){history.replaceState({},"",SPZUtils.Urls.addOrReplaceParams(this.win.location.href,{index:t}))}},{key:"isLayoutSupported",value:function(t){return t==SPZCore.Layout.CONTAINER||t==SPZCore.Layout.FILL}}])&&function(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}(h.prototype,e),h}(t.BaseElement);self.SPZ.registerElement(s,c,".i-spzhtml-tab{cursor:pointer;list-style-type:none}\n/*# sourceURL=/extensions/spz-tabs/0.1/spz-tabs.css*/")}()}});